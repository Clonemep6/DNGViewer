(()=>{"use strict";var e,i={};e={id:"dngviewer-preview",displayName:()=>t("dngviewer","View raw preview"),iconSvgInline:()=>'\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n      <path\n        d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9\n           M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17\n           M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5\n           21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"\n      />\n    </svg>\n  ',enabled:e=>1===e.length&&["image/x-adobe-dng","image/x-dcraw"].includes(e[0].mime),default:e=>1===e.length&&["image/x-adobe-dng","image/x-dcraw"].includes(e[0].mime),exec:async e=>{const i=e.id??e.fileid,n=e.name??e.displayname,d=e.path;if(!i||!n||!d)return console.warn("[dngviewer] Missing file info",{fileId:i,fileName:n,filePath:d}),!1;const a=OC.generateUrl("apps/dngviewer/preview/{id}",{id:i,x:2048,y:2048});console.log("[dngviewer] previewUrl â†’",a);const l={fileId:i,name:n,path:d,type:"file",mime:"image/png",previewUrl:a,hasPreview:!0};return OCA.Viewer.open({fileInfo:l,list:[l],enableSidebar:!1}),!0}},void 0===window._nc_fileactions&&(window._nc_fileactions=[],console.log("[dngviewer] FileActions initialized")),window._nc_fileactions.find(i=>i.id===e.id)?console.warn(`[dngviewer] FileAction ${e.id} already registered`):window._nc_fileactions.push(e);var n=window;for(var d in i)n[d]=i[d];i.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();